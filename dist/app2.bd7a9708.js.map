{"version":3,"sources":["node_modules/tslib/tslib.es6.js","../src/constants.ts","../src/assert.ts","../src/crypt.ts","../src/deepCopy.ts","../src/deferred.ts","../src/environment.ts","../src/errors.ts","../src/json.ts","../src/jwt.ts","../src/obj.ts","../src/query.ts","../src/sha1.ts","../src/subscribe.ts","../src/validation.ts","../src/utf8.ts","../src/component.ts","../src/provider.ts","../src/component_container.ts","../src/logger.ts","../src/firebaseApp.ts","../src/firebaseNamespaceCore.ts","../src/firebaseNamespace.ts","../src/platformLoggerService.ts","../src/registerCoreComponents.ts","../index.ts","src/Core/EventHandler.js","node_modules/symbol-observable/es/ponyfill.js","node_modules/symbol-observable/es/index.js","node_modules/redux/es/redux.js","src/reducers/mainReducer.js","src/store.js","src/Components/BaseComponent.js","src/Components/HeaderComponent.js","node_modules/minivents/dist/minivents.commonjs.min.js","variables.js","src/Components/ScoreListItemsComponent.js","src/Components/ScoreListComponent.js","src/Components/QuizHeadingComponent.js","src/Components/QuizContainerComponent.js","src/Components/LoginFormComponent.js","src/Components/ModalComponent.js","src/Components/AppComponent.js","src/Core/Mahmut.js","app2.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__exportStar","m","exports","__values","o","__read","ar","error","__spread","concat","__spreadArrays","il","k","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","set","stringToByteArray","Deferred","ErrorFactory","_a","appName","analyticsName","authName","databaseName","functionsName","installationsName","messagingName","performanceName","remoteConfigName","storageName","firestoreName","packageName","Logger","deepCopy","ComponentContainer","Component","component","version","contains","deepExtend","setUserLogHandler","name","isBrowser","firebaseNamespace","isNode","firebase","rootElement","init","addEventListener","handleEvent","bind","events","didMountList","event","document","querySelector","selector","handler","componentDidMount","callback","triggerComponentDidMount","forEach","item","symbolObservablePonyfill","root","observable","self","window","global","module","Function","randomString","Math","random","toString","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","Error","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","unsubscribe","index","splice","dispatch","action","type","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","$$observable","warning","message","console","getUndefinedStateErrorMessage","actionType","actionDescription","String","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","keys","argumentName","match","unexpectedKeys","filter","assertReducerShape","initialState","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","state","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","sym","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","arg","reduce","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","map","middleware","isCrushed","mainReducer","loginForm","initial","__REDUX_DEVTOOLS_EXTENSION__","trace","BaseComponent","render","log","EventHandler","template","HeaderComponent","currentStudentsData","payload","score","eventManager","Events","introScoreList","loginClose","loginBtn","userNameInput","userPassInput","logOutBtn","loginCheckAlert","activeUserNameContainer","activeUserScoreContainer","quizContainer","quizContainerHeading","quizHeading","quizMainBox","startQuiz","quizGuessResult","quizNumberFirst","quizNumberSecond","quizGuessInput","timerBox","userHistory","userHistoryContainer","appPrefix","students","currentStudent","historyStudent","introListTemplate","quizHeadingTemplate","historyStudentTemplate","ScoreListItemsComponent","data","introScoreData","carry","replace","userName","userId","userScore","scoreListTemplate","ScoreListComponent","QuizHeadingComponent","QuizContainerComponent","LoginFormComponent","ModalComponent","form","content","$","modal","on","AppComponent","str","getContent","Mahmut","mainComponent","innerHTML","initialize","getElementById","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","appendChild","remove","createElement","stackTrace","innerText","getParents","modules","parents","dep","isArray","deps","cached","cache","some","cb"],"mappings":"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","file":"app2.bd7a9708.js","sourceRoot":"..","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\n */\n\nexport const CONSTANTS = {\n  /**\n   * @define {boolean} Whether this is the client Node.js SDK.\n   */\n  NODE_CLIENT: false,\n  /**\n   * @define {boolean} Whether this is the Admin Node.js SDK.\n   */\n  NODE_ADMIN: false,\n\n  /**\n   * Firebase SDK Version\n   */\n  SDK_VERSION: '${JSCORE_VERSION}'\n};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CONSTANTS } from './constants';\n\n/**\n * Throws an error if the provided assertion is falsy\n */\nexport const assert = function(assertion: unknown, message: string): void {\n  if (!assertion) {\n    throw assertionError(message);\n  }\n};\n\n/**\n * Returns an Error object suitable for throwing.\n */\nexport const assertionError = function(message: string): Error {\n  return new Error(\n    'Firebase Database (' +\n      CONSTANTS.SDK_VERSION +\n      ') INTERNAL ASSERT FAILED: ' +\n      message\n  );\n};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst stringToByteArray = function(str: string): number[] {\n  // TODO(user): Use native implementations if/when available\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (\n      (c & 0xfc00) === 0xd800 &&\n      i + 1 < str.length &&\n      (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00\n    ) {\n      // Surrogate Pair\n      c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Turns an array of numbers into the string given by the concatenation of the\n * characters to which the numbers correspond.\n * @param bytes Array of numbers representing characters.\n * @return Stringification of the array.\n */\nconst byteArrayToString = function(bytes: number[]): string {\n  // TODO(user): Use native implementations if/when available\n  const out: string[] = [];\n  let pos = 0,\n    c = 0;\n  while (pos < bytes.length) {\n    const c1 = bytes[pos++];\n    if (c1 < 128) {\n      out[c++] = String.fromCharCode(c1);\n    } else if (c1 > 191 && c1 < 224) {\n      const c2 = bytes[pos++];\n      out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\n    } else if (c1 > 239 && c1 < 365) {\n      // Surrogate Pair\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      const c4 = bytes[pos++];\n      const u =\n        (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\n        0x10000;\n      out[c++] = String.fromCharCode(0xd800 + (u >> 10));\n      out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\n    } else {\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      out[c++] = String.fromCharCode(\n        ((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63)\n      );\n    }\n  }\n  return out.join('');\n};\n\ninterface Base64 {\n  byteToCharMap_: { [key: number]: string } | null;\n  charToByteMap_: { [key: string]: number } | null;\n  byteToCharMapWebSafe_: { [key: number]: string } | null;\n  charToByteMapWebSafe_: { [key: string]: number } | null;\n  ENCODED_VALS_BASE: string;\n  readonly ENCODED_VALS: string;\n  readonly ENCODED_VALS_WEBSAFE: string;\n  HAS_NATIVE_SUPPORT: boolean;\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string;\n  encodeString(input: string, webSafe?: boolean): string;\n  decodeString(input: string, webSafe: boolean): string;\n  decodeStringToByteArray(input: string, webSafe: boolean): number[];\n  init_(): void;\n}\n\n// We define it as an object literal instead of a class because a class compiled down to es5 can't\n// be treeshaked. https://github.com/rollup/rollup/issues/1691\n// Static lookup maps, lazily populated by init_()\nexport const base64: Base64 = {\n  /**\n   * Maps bytes to characters.\n   */\n  byteToCharMap_: null,\n\n  /**\n   * Maps characters to bytes.\n   */\n  charToByteMap_: null,\n\n  /**\n   * Maps bytes to websafe characters.\n   * @private\n   */\n  byteToCharMapWebSafe_: null,\n\n  /**\n   * Maps websafe characters to bytes.\n   * @private\n   */\n  charToByteMapWebSafe_: null,\n\n  /**\n   * Our default alphabet, shared between\n   * ENCODED_VALS and ENCODED_VALS_WEBSAFE\n   */\n  ENCODED_VALS_BASE:\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\n\n  /**\n   * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\n   */\n  get ENCODED_VALS() {\n    return this.ENCODED_VALS_BASE + '+/=';\n  },\n\n  /**\n   * Our websafe alphabet.\n   */\n  get ENCODED_VALS_WEBSAFE() {\n    return this.ENCODED_VALS_BASE + '-_.';\n  },\n\n  /**\n   * Whether this browser supports the atob and btoa functions. This extension\n   * started at Mozilla but is now implemented by many browsers. We use the\n   * ASSUME_* variables to avoid pulling in the full useragent detection library\n   * but still allowing the standard per-browser compilations.\n   *\n   */\n  HAS_NATIVE_SUPPORT: typeof atob === 'function',\n\n  /**\n   * Base64-encode an array of bytes.\n   *\n   * @param input An array of bytes (numbers with\n   *     value in [0, 255]) to encode.\n   * @param webSafe Boolean indicating we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string {\n    if (!Array.isArray(input)) {\n      throw Error('encodeByteArray takes an array as a parameter');\n    }\n\n    this.init_();\n\n    const byteToCharMap = webSafe\n      ? this.byteToCharMapWebSafe_!\n      : this.byteToCharMap_!;\n\n    const output = [];\n\n    for (let i = 0; i < input.length; i += 3) {\n      const byte1 = input[i];\n      const haveByte2 = i + 1 < input.length;\n      const byte2 = haveByte2 ? input[i + 1] : 0;\n      const haveByte3 = i + 2 < input.length;\n      const byte3 = haveByte3 ? input[i + 2] : 0;\n\n      const outByte1 = byte1 >> 2;\n      const outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\n      let outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\n      let outByte4 = byte3 & 0x3f;\n\n      if (!haveByte3) {\n        outByte4 = 64;\n\n        if (!haveByte2) {\n          outByte3 = 64;\n        }\n      }\n\n      output.push(\n        byteToCharMap[outByte1],\n        byteToCharMap[outByte2],\n        byteToCharMap[outByte3],\n        byteToCharMap[outByte4]\n      );\n    }\n\n    return output.join('');\n  },\n\n  /**\n   * Base64-encode a string.\n   *\n   * @param input A string to encode.\n   * @param webSafe If true, we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeString(input: string, webSafe?: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return btoa(input);\n    }\n    return this.encodeByteArray(stringToByteArray(input), webSafe);\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * @param input to decode.\n   * @param webSafe True if we should use the\n   *     alternative alphabet.\n   * @return string representing the decoded value.\n   */\n  decodeString(input: string, webSafe: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return atob(input);\n    }\n    return byteArrayToString(this.decodeStringToByteArray(input, webSafe));\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * In base-64 decoding, groups of four characters are converted into three\n   * bytes.  If the encoder did not apply padding, the input length may not\n   * be a multiple of 4.\n   *\n   * In this case, the last group will have fewer than 4 characters, and\n   * padding will be inferred.  If the group has one or two characters, it decodes\n   * to one byte.  If the group has three characters, it decodes to two bytes.\n   *\n   * @param input Input to decode.\n   * @param webSafe True if we should use the web-safe alphabet.\n   * @return bytes representing the decoded value.\n   */\n  decodeStringToByteArray(input: string, webSafe: boolean): number[] {\n    this.init_();\n\n    const charToByteMap = webSafe\n      ? this.charToByteMapWebSafe_!\n      : this.charToByteMap_!;\n\n    const output: number[] = [];\n\n    for (let i = 0; i < input.length; ) {\n      const byte1 = charToByteMap[input.charAt(i++)];\n\n      const haveByte2 = i < input.length;\n      const byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\n      ++i;\n\n      const haveByte3 = i < input.length;\n      const byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      const haveByte4 = i < input.length;\n      const byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\n        throw Error();\n      }\n\n      const outByte1 = (byte1 << 2) | (byte2 >> 4);\n      output.push(outByte1);\n\n      if (byte3 !== 64) {\n        const outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\n        output.push(outByte2);\n\n        if (byte4 !== 64) {\n          const outByte3 = ((byte3 << 6) & 0xc0) | byte4;\n          output.push(outByte3);\n        }\n      }\n    }\n\n    return output;\n  },\n\n  /**\n   * Lazy static initialization function. Called before\n   * accessing any of the static map variables.\n   * @private\n   */\n  init_() {\n    if (!this.byteToCharMap_) {\n      this.byteToCharMap_ = {};\n      this.charToByteMap_ = {};\n      this.byteToCharMapWebSafe_ = {};\n      this.charToByteMapWebSafe_ = {};\n\n      // We want quick mappings back and forth, so we precompute two maps.\n      for (let i = 0; i < this.ENCODED_VALS.length; i++) {\n        this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\n        this.charToByteMap_[this.byteToCharMap_[i]] = i;\n        this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\n        this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\n\n        // Be forgiving when decoding and correctly decode both encodings.\n        if (i >= this.ENCODED_VALS_BASE.length) {\n          this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\n          this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\n        }\n      }\n    }\n  }\n};\n\n/**\n * URL-safe base64 encoding\n */\nexport const base64Encode = function(str: string): string {\n  const utf8Bytes = stringToByteArray(str);\n  return base64.encodeByteArray(utf8Bytes, true);\n};\n\n/**\n * URL-safe base64 decoding\n *\n * NOTE: DO NOT use the global atob() function - it does NOT support the\n * base64Url variant encoding.\n *\n * @param str To be decoded\n * @return Decoded result, if possible\n */\nexport const base64Decode = function(str: string): string | null {\n  try {\n    return base64.decodeString(str, true);\n  } catch (e) {\n    console.error('base64Decode failed: ', e);\n  }\n  return null;\n};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Do a deep-copy of basic JavaScript Objects or Arrays.\n */\nexport function deepCopy<T>(value: T): T {\n  return deepExtend(undefined, value) as T;\n}\n\n/**\n * Copy properties from source to target (recursively allows extension\n * of Objects and Arrays).  Scalar values in the target are over-written.\n * If target is undefined, an object of the appropriate type will be created\n * (and returned).\n *\n * We recursively copy all child properties of plain Objects in the source- so\n * that namespace- like dictionaries are merged.\n *\n * Note that the target can be a function, in which case the properties in\n * the source Object are copied onto it as static properties of the Function.\n */\nexport function deepExtend(target: unknown, source: unknown): unknown {\n  if (!(source instanceof Object)) {\n    return source;\n  }\n\n  switch (source.constructor) {\n    case Date:\n      // Treat Dates like scalars; if the target date object had any child\n      // properties - they will be lost!\n      const dateValue = source as Date;\n      return new Date(dateValue.getTime());\n\n    case Object:\n      if (target === undefined) {\n        target = {};\n      }\n      break;\n    case Array:\n      // Always copy the array source and overwrite the target.\n      target = [];\n      break;\n\n    default:\n      // Not a plain Object - treat it as a scalar.\n      return source;\n  }\n\n  for (const prop in source) {\n    if (!source.hasOwnProperty(prop)) {\n      continue;\n    }\n    (target as { [key: string]: unknown })[prop] = deepExtend(\n      (target as { [key: string]: unknown })[prop],\n      (source as { [key: string]: unknown })[prop]\n    );\n  }\n\n  return target;\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class Deferred<R> {\n  promise: Promise<R>;\n  reject: (value?: unknown) => void = () => {};\n  resolve: (value?: unknown) => void = () => {};\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve as (value?: unknown) => void;\n      this.reject = reject as (value?: unknown) => void;\n    });\n  }\n\n  /**\n   * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\n   * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\n   * and returns a node-style callback which will resolve or reject the Deferred's promise.\n   */\n  wrapCallback(\n    callback?: (error?: unknown, value?: unknown) => void\n  ): (error: unknown, value?: unknown) => void {\n    return (error, value?) => {\n      if (error) {\n        this.reject(error);\n      } else {\n        this.resolve(value);\n      }\n      if (typeof callback === 'function') {\n        // Attaching noop handler just in case developer wasn't expecting\n        // promises\n        this.promise.catch(() => {});\n\n        // Some of our callbacks don't expect a value and our own tests\n        // assert that the parameter length is 1\n        if (callback.length === 1) {\n          callback(error);\n        } else {\n          callback(error, value);\n        }\n      }\n    };\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CONSTANTS } from './constants';\n\n/**\n * Returns navigator.userAgent string or '' if it's not defined.\n * @return user agent string\n */\nexport function getUA(): string {\n  if (\n    typeof navigator !== 'undefined' &&\n    typeof navigator['userAgent'] === 'string'\n  ) {\n    return navigator['userAgent'];\n  } else {\n    return '';\n  }\n}\n\n/**\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\n *\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap\n * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally\n * wait for a callback.\n */\nexport function isMobileCordova(): boolean {\n  return (\n    typeof window !== 'undefined' &&\n    // @ts-ignore Setting up an broadly applicable index signature for Window\n    // just to deal with this case would probably be a bad idea.\n    !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\n    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())\n  );\n}\n\n/**\n * Detect Node.js.\n *\n * @return true if Node.js environment is detected.\n */\n// Node detection logic from: https://github.com/iliakan/detect-node/\nexport function isNode(): boolean {\n  try {\n    return (\n      Object.prototype.toString.call(global.process) === '[object process]'\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Detect Browser Environment\n */\nexport function isBrowser(): boolean {\n  return typeof self === 'object' && self.self === self;\n}\n\n/**\n * Detect browser extensions (Chrome and Firefox at least).\n */\ninterface BrowserRuntime {\n  id?: unknown;\n}\ndeclare const chrome: { runtime?: BrowserRuntime };\ndeclare const browser: { runtime?: BrowserRuntime };\nexport function isBrowserExtension(): boolean {\n  const runtime =\n    typeof chrome === 'object'\n      ? chrome.runtime\n      : typeof browser === 'object'\n      ? browser.runtime\n      : undefined;\n  return typeof runtime === 'object' && runtime.id !== undefined;\n}\n\n/**\n * Detect React Native.\n *\n * @return true if ReactNative environment is detected.\n */\nexport function isReactNative(): boolean {\n  return (\n    typeof navigator === 'object' && navigator['product'] === 'ReactNative'\n  );\n}\n\n/** Detects Electron apps. */\nexport function isElectron(): boolean {\n  return getUA().indexOf('Electron/') >= 0;\n}\n\n/** Detects Internet Explorer. */\nexport function isIE(): boolean {\n  const ua = getUA();\n  return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\n}\n\n/** Detects Universal Windows Platform apps. */\nexport function isUWP(): boolean {\n  return getUA().indexOf('MSAppHost/') >= 0;\n}\n\n/**\n * Detect whether the current SDK build is the Node version.\n *\n * @return true if it's the Node SDK build.\n */\nexport function isNodeSdk(): boolean {\n  return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @fileoverview Standardized Firebase Error.\n *\n * Usage:\n *\n *   // Typescript string literals for type-safe codes\n *   type Err =\n *     'unknown' |\n *     'object-not-found'\n *     ;\n *\n *   // Closure enum for type-safe error codes\n *   // at-enum {string}\n *   var Err = {\n *     UNKNOWN: 'unknown',\n *     OBJECT_NOT_FOUND: 'object-not-found',\n *   }\n *\n *   let errors: Map<Err, string> = {\n *     'generic-error': \"Unknown error\",\n *     'file-not-found': \"Could not find file: {$file}\",\n *   };\n *\n *   // Type-safe function - must pass a valid error code as param.\n *   let error = new ErrorFactory<Err>('service', 'Service', errors);\n *\n *   ...\n *   throw error.create(Err.GENERIC);\n *   ...\n *   throw error.create(Err.FILE_NOT_FOUND, {'file': fileName});\n *   ...\n *   // Service: Could not file file: foo.txt (service/file-not-found).\n *\n *   catch (e) {\n *     assert(e.message === \"Could not find file: foo.txt.\");\n *     if (e.code === 'service/file-not-found') {\n *       console.log(\"Could not read file: \" + e['file']);\n *     }\n *   }\n */\n\nexport type ErrorMap<ErrorCode extends string> = {\n  readonly [K in ErrorCode]: string;\n};\n\nconst ERROR_NAME = 'FirebaseError';\n\nexport interface StringLike {\n  toString(): string;\n}\n\nexport interface ErrorData {\n  [key: string]: StringLike | undefined;\n}\n\nexport interface FirebaseError extends Error, ErrorData {\n  // Unique code for error - format is service/error-code-string.\n  readonly code: string;\n\n  // Developer-friendly error message.\n  readonly message: string;\n\n  // Always 'FirebaseError'.\n  readonly name: typeof ERROR_NAME;\n\n  // Where available - stack backtrace in a string.\n  readonly stack?: string;\n}\n\n// Based on code from:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types\nexport class FirebaseError extends Error {\n  readonly name = ERROR_NAME;\n\n  constructor(readonly code: string, message: string) {\n    super(message);\n\n    // Fix For ES5\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, FirebaseError.prototype);\n\n    // Maintains proper stack trace for where our error was thrown.\n    // Only available on V8.\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ErrorFactory.prototype.create);\n    }\n  }\n}\n\nexport class ErrorFactory<\n  ErrorCode extends string,\n  ErrorParams extends { readonly [K in ErrorCode]?: ErrorData } = {}\n> {\n  constructor(\n    private readonly service: string,\n    private readonly serviceName: string,\n    private readonly errors: ErrorMap<ErrorCode>\n  ) {}\n\n  create<K extends ErrorCode>(\n    code: K,\n    ...data: K extends keyof ErrorParams ? [ErrorParams[K]] : []\n  ): FirebaseError {\n    const customData = (data[0] as ErrorData) || {};\n    const fullCode = `${this.service}/${code}`;\n    const template = this.errors[code];\n\n    const message = template ? replaceTemplate(template, customData) : 'Error';\n    // Service Name: Error message (service/code).\n    const fullMessage = `${this.serviceName}: ${message} (${fullCode}).`;\n\n    const error = new FirebaseError(fullCode, fullMessage);\n\n    // Keys with an underscore at the end of their name are not included in\n    // error.data for some reason.\n    // TODO: Replace with Object.entries when lib is updated to es2017.\n    for (const key of Object.keys(customData)) {\n      if (key.slice(-1) !== '_') {\n        if (key in error) {\n          console.warn(\n            `Overwriting FirebaseError base field \"${key}\" can cause unexpected behavior.`\n          );\n        }\n        error[key] = customData[key];\n      }\n    }\n\n    return error;\n  }\n}\n\nfunction replaceTemplate(template: string, data: ErrorData): string {\n  return template.replace(PATTERN, (_, key) => {\n    const value = data[key];\n    return value != null ? value.toString() : `<${key}?>`;\n  });\n}\n\nconst PATTERN = /\\{\\$([^}]+)}/g;\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Evaluates a JSON string into a javascript object.\n *\n * @param {string} str A string containing JSON.\n * @return {*} The javascript object representing the specified JSON.\n */\nexport function jsonEval(str: string): unknown {\n  return JSON.parse(str);\n}\n\n/**\n * Returns JSON representing a javascript object.\n * @param {*} data Javascript object to be stringified.\n * @return {string} The JSON contents of the object.\n */\nexport function stringify(data: unknown): string {\n  return JSON.stringify(data);\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64Decode } from './crypt';\nimport { jsonEval } from './json';\n\ninterface Claims {\n  [key: string]: {};\n}\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token into constituent parts.\n *\n * Notes:\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const decode = function(token: string): DecodedToken {\n  let header = {},\n    claims: Claims = {},\n    data = {},\n    signature = '';\n\n  try {\n    const parts = token.split('.');\n    header = jsonEval(base64Decode(parts[0]) || '') as object;\n    claims = jsonEval(base64Decode(parts[1]) || '') as Claims;\n    signature = parts[2];\n    data = claims['d'] || {};\n    delete claims['d'];\n  } catch (e) {}\n\n  return {\n    header,\n    claims,\n    data,\n    signature\n  };\n};\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidTimestamp = function(token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  const now: number = Math.floor(new Date().getTime() / 1000);\n  let validSince: number = 0,\n    validUntil: number = 0;\n\n  if (typeof claims === 'object') {\n    if (claims.hasOwnProperty('nbf')) {\n      validSince = claims['nbf'] as number;\n    } else if (claims.hasOwnProperty('iat')) {\n      validSince = claims['iat'] as number;\n    }\n\n    if (claims.hasOwnProperty('exp')) {\n      validUntil = claims['exp'] as number;\n    } else {\n      // token will expire after 24h by default\n      validUntil = validSince + 86400;\n    }\n  }\n\n  return (\n    !!now &&\n    !!validSince &&\n    !!validUntil &&\n    now >= validSince &&\n    now <= validUntil\n  );\n};\n\n/**\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\n *\n * Notes:\n * - May return null if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const issuedAtTime = function(token: string): number | null {\n  const claims: Claims = decode(token).claims;\n  if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\n    return claims['iat'] as number;\n  }\n  return null;\n};\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidFormat = function(token: string): boolean {\n  const decoded = decode(token),\n    claims = decoded.claims;\n\n  return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\n};\n\n/**\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isAdmin = function(token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  return typeof claims === 'object' && claims['admin'] === true;\n};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function contains<T extends object>(obj: T, key: string): boolean {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexport function safeGet<T extends object, K extends keyof T>(\n  obj: T,\n  key: K\n): T[K] | undefined {\n  if (Object.prototype.hasOwnProperty.call(obj, key)) {\n    return obj[key];\n  } else {\n    return undefined;\n  }\n}\n\nexport function isEmpty(obj: object): obj is {} {\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function map<K extends string, V, U>(\n  obj: { [key in K]: V },\n  fn: (value: V, key: K, obj: { [key in K]: V }) => U,\n  contextObj?: unknown\n): { [key in K]: U } {\n  const res: Partial<{ [key in K]: U }> = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      res[key] = fn.call(contextObj, obj[key], key, obj);\n    }\n  }\n  return res as { [key in K]: U };\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a\n * params object (e.g. {arg: 'val', arg2: 'val2'})\n * Note: You must prepend it with ? when adding it to a URL.\n */\nexport function querystring(querystringParams: {\n  [key: string]: string | number;\n}): string {\n  const params = [];\n  for (const [key, value] of Object.entries(querystringParams)) {\n    if (Array.isArray(value)) {\n      value.forEach(arrayVal => {\n        params.push(\n          encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal)\n        );\n      });\n    } else {\n      params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    }\n  }\n  return params.length ? '&' + params.join('&') : '';\n}\n\n/**\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object\n * (e.g. {arg: 'val', arg2: 'val2'})\n */\nexport function querystringDecode(querystring: string): object {\n  const obj: { [key: string]: unknown } = {};\n  const tokens = querystring.replace(/^\\?/, '').split('&');\n\n  tokens.forEach(token => {\n    if (token) {\n      const key = token.split('=');\n      obj[key[0]] = key[1];\n    }\n  });\n  return obj;\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview SHA-1 cryptographic hash.\n * Variable names follow the notation in FIPS PUB 180-3:\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\n *\n * Usage:\n *   var sha1 = new sha1();\n *   sha1.update(bytes);\n *   var hash = sha1.digest();\n *\n * Performance:\n *   Chrome 23:   ~400 Mbit/s\n *   Firefox 16:  ~250 Mbit/s\n *\n */\n\n/**\n * SHA-1 cryptographic hash constructor.\n *\n * The properties declared here are discussed in the above algorithm document.\n * @constructor\n * @final\n * @struct\n */\nexport class Sha1 {\n  /**\n   * Holds the previous values of accumulated variables a-e in the compress_\n   * function.\n   * @private\n   */\n  private chain_: number[] = [];\n\n  /**\n   * A buffer holding the partially computed hash result.\n   * @private\n   */\n  private buf_: number[] = [];\n\n  /**\n   * An array of 80 bytes, each a part of the message to be hashed.  Referred to\n   * as the message schedule in the docs.\n   * @private\n   */\n  private W_: number[] = [];\n\n  /**\n   * Contains data needed to pad messages less than 64 bytes.\n   * @private\n   */\n  private pad_: number[] = [];\n\n  /**\n   * @private {number}\n   */\n  private inbuf_: number = 0;\n\n  /**\n   * @private {number}\n   */\n  private total_: number = 0;\n\n  blockSize: number;\n\n  constructor() {\n    this.blockSize = 512 / 8;\n\n    this.pad_[0] = 128;\n    for (let i = 1; i < this.blockSize; ++i) {\n      this.pad_[i] = 0;\n    }\n\n    this.reset();\n  }\n\n  reset(): void {\n    this.chain_[0] = 0x67452301;\n    this.chain_[1] = 0xefcdab89;\n    this.chain_[2] = 0x98badcfe;\n    this.chain_[3] = 0x10325476;\n    this.chain_[4] = 0xc3d2e1f0;\n\n    this.inbuf_ = 0;\n    this.total_ = 0;\n  }\n\n  /**\n   * Internal compress helper function.\n   * @param buf Block to compress.\n   * @param offset Offset of the block in the buffer.\n   * @private\n   */\n  compress_(buf: number[] | Uint8Array | string, offset?: number): void {\n    if (!offset) {\n      offset = 0;\n    }\n\n    const W = this.W_;\n\n    // get 16 big endian words\n    if (typeof buf === 'string') {\n      for (let i = 0; i < 16; i++) {\n        // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\n        // have a bug that turns the post-increment ++ operator into pre-increment\n        // during JIT compilation.  We have code that depends heavily on SHA-1 for\n        // correctness and which is affected by this bug, so I've removed all uses\n        // of post-increment ++ in which the result value is used.  We can revert\n        // this change once the Safari bug\n        // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\n        // most clients have been updated.\n        W[i] =\n          (buf.charCodeAt(offset) << 24) |\n          (buf.charCodeAt(offset + 1) << 16) |\n          (buf.charCodeAt(offset + 2) << 8) |\n          buf.charCodeAt(offset + 3);\n        offset += 4;\n      }\n    } else {\n      for (let i = 0; i < 16; i++) {\n        W[i] =\n          (buf[offset] << 24) |\n          (buf[offset + 1] << 16) |\n          (buf[offset + 2] << 8) |\n          buf[offset + 3];\n        offset += 4;\n      }\n    }\n\n    // expand to 80 words\n    for (let i = 16; i < 80; i++) {\n      const t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n      W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\n    }\n\n    let a = this.chain_[0];\n    let b = this.chain_[1];\n    let c = this.chain_[2];\n    let d = this.chain_[3];\n    let e = this.chain_[4];\n    let f, k;\n\n    // TODO(user): Try to unroll this loop to speed up the computation.\n    for (let i = 0; i < 80; i++) {\n      if (i < 40) {\n        if (i < 20) {\n          f = d ^ (b & (c ^ d));\n          k = 0x5a827999;\n        } else {\n          f = b ^ c ^ d;\n          k = 0x6ed9eba1;\n        }\n      } else {\n        if (i < 60) {\n          f = (b & c) | (d & (b | c));\n          k = 0x8f1bbcdc;\n        } else {\n          f = b ^ c ^ d;\n          k = 0xca62c1d6;\n        }\n      }\n\n      const t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\n      e = d;\n      d = c;\n      c = ((b << 30) | (b >>> 2)) & 0xffffffff;\n      b = a;\n      a = t;\n    }\n\n    this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\n    this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\n    this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\n    this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\n    this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\n  }\n\n  update(bytes?: number[] | Uint8Array | string, length?: number): void {\n    // TODO(johnlenz): tighten the function signature and remove this check\n    if (bytes == null) {\n      return;\n    }\n\n    if (length === undefined) {\n      length = bytes.length;\n    }\n\n    const lengthMinusBlock = length - this.blockSize;\n    let n = 0;\n    // Using local instead of member variables gives ~5% speedup on Firefox 16.\n    const buf = this.buf_;\n    let inbuf = this.inbuf_;\n\n    // The outer while loop should execute at most twice.\n    while (n < length) {\n      // When we have no data in the block to top up, we can directly process the\n      // input buffer (assuming it contains sufficient data). This gives ~25%\n      // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\n      // the data is provided in large chunks (or in multiples of 64 bytes).\n      if (inbuf === 0) {\n        while (n <= lengthMinusBlock) {\n          this.compress_(bytes, n);\n          n += this.blockSize;\n        }\n      }\n\n      if (typeof bytes === 'string') {\n        while (n < length) {\n          buf[inbuf] = bytes.charCodeAt(n);\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      } else {\n        while (n < length) {\n          buf[inbuf] = bytes[n];\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      }\n    }\n\n    this.inbuf_ = inbuf;\n    this.total_ += length;\n  }\n\n  /** @override */\n  digest(): number[] {\n    const digest: number[] = [];\n    let totalBits = this.total_ * 8;\n\n    // Add pad 0x80 0x00*.\n    if (this.inbuf_ < 56) {\n      this.update(this.pad_, 56 - this.inbuf_);\n    } else {\n      this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\n    }\n\n    // Add # bits.\n    for (let i = this.blockSize - 1; i >= 56; i--) {\n      this.buf_[i] = totalBits & 255;\n      totalBits /= 256; // Don't use bit-shifting here!\n    }\n\n    this.compress_(this.buf_);\n\n    let n = 0;\n    for (let i = 0; i < 5; i++) {\n      for (let j = 24; j >= 0; j -= 8) {\n        digest[n] = (this.chain_[i] >> j) & 255;\n        ++n;\n      }\n    }\n    return digest;\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport type NextFn<T> = (value: T) => void;\nexport type ErrorFn = (error: Error) => void;\nexport type CompleteFn = () => void;\n\nexport interface Observer<T> {\n  // Called once for each value in a stream of values.\n  next: NextFn<T>;\n\n  // A stream terminates by a single call to EITHER error() or complete().\n  error: ErrorFn;\n\n  // No events will be sent to next() once complete() is called.\n  complete: CompleteFn;\n}\n\nexport type PartialObserver<T> = Partial<Observer<T>>;\n\n// TODO: Support also Unsubscribe.unsubscribe?\nexport type Unsubscribe = () => void;\n\n/**\n * The Subscribe interface has two forms - passing the inline function\n * callbacks, or a object interface with callback properties.\n */\nexport interface Subscribe<T> {\n  (next?: NextFn<T>, error?: ErrorFn, complete?: CompleteFn): Unsubscribe;\n  (observer: PartialObserver<T>): Unsubscribe;\n}\n\nexport interface Observable<T> {\n  // Subscribe method\n  subscribe: Subscribe<T>;\n}\n\nexport type Executor<T> = (observer: Observer<T>) => void;\n\n/**\n * Helper to make a Subscribe function (just like Promise helps make a\n * Thenable).\n *\n * @param executor Function which can make calls to a single Observer\n *     as a proxy.\n * @param onNoObservers Callback when count of Observers goes to zero.\n */\nexport function createSubscribe<T>(\n  executor: Executor<T>,\n  onNoObservers?: Executor<T>\n): Subscribe<T> {\n  const proxy = new ObserverProxy<T>(executor, onNoObservers);\n  return proxy.subscribe.bind(proxy);\n}\n\n/**\n * Implement fan-out for any number of Observers attached via a subscribe\n * function.\n */\nclass ObserverProxy<T> implements Observer<T> {\n  private observers: Array<Observer<T>> | undefined = [];\n  private unsubscribes: Unsubscribe[] = [];\n  private onNoObservers: Executor<T> | undefined;\n  private observerCount = 0;\n  // Micro-task scheduling by calling task.then().\n  private task = Promise.resolve();\n  private finalized = false;\n  private finalError?: Error;\n\n  /**\n   * @param executor Function which can make calls to a single Observer\n   *     as a proxy.\n   * @param onNoObservers Callback when count of Observers goes to zero.\n   */\n  constructor(executor: Executor<T>, onNoObservers?: Executor<T>) {\n    this.onNoObservers = onNoObservers;\n    // Call the executor asynchronously so subscribers that are called\n    // synchronously after the creation of the subscribe function\n    // can still receive the very first value generated in the executor.\n    this.task\n      .then(() => {\n        executor(this);\n      })\n      .catch(e => {\n        this.error(e);\n      });\n  }\n\n  next(value: T): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.next(value);\n    });\n  }\n\n  error(error: Error): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.error(error);\n    });\n    this.close(error);\n  }\n\n  complete(): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.complete();\n    });\n    this.close();\n  }\n\n  /**\n   * Subscribe function that can be used to add an Observer to the fan-out list.\n   *\n   * - We require that no event is sent to a subscriber sychronously to their\n   *   call to subscribe().\n   */\n  subscribe(\n    nextOrObserver?: PartialObserver<T> | Function,\n    error?: ErrorFn,\n    complete?: CompleteFn\n  ): Unsubscribe {\n    let observer: Observer<T>;\n\n    if (\n      nextOrObserver === undefined &&\n      error === undefined &&\n      complete === undefined\n    ) {\n      throw new Error('Missing Observer.');\n    }\n\n    // Assemble an Observer object when passed as callback functions.\n    if (\n      implementsAnyMethods(nextOrObserver as { [key: string]: unknown }, [\n        'next',\n        'error',\n        'complete'\n      ])\n    ) {\n      observer = nextOrObserver as Observer<T>;\n    } else {\n      observer = {\n        next: nextOrObserver as NextFn<T>,\n        error,\n        complete\n      } as Observer<T>;\n    }\n\n    if (observer.next === undefined) {\n      observer.next = noop as NextFn<T>;\n    }\n    if (observer.error === undefined) {\n      observer.error = noop as ErrorFn;\n    }\n    if (observer.complete === undefined) {\n      observer.complete = noop as CompleteFn;\n    }\n\n    const unsub = this.unsubscribeOne.bind(this, this.observers!.length);\n\n    // Attempt to subscribe to a terminated Observable - we\n    // just respond to the Observer with the final error or complete\n    // event.\n    if (this.finalized) {\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.task.then(() => {\n        try {\n          if (this.finalError) {\n            observer.error(this.finalError);\n          } else {\n            observer.complete();\n          }\n        } catch (e) {\n          // nothing\n        }\n        return;\n      });\n    }\n\n    this.observers!.push(observer as Observer<T>);\n\n    return unsub;\n  }\n\n  // Unsubscribe is synchronous - we guarantee that no events are sent to\n  // any unsubscribed Observer.\n  private unsubscribeOne(i: number): void {\n    if (this.observers === undefined || this.observers[i] === undefined) {\n      return;\n    }\n\n    delete this.observers[i];\n\n    this.observerCount -= 1;\n    if (this.observerCount === 0 && this.onNoObservers !== undefined) {\n      this.onNoObservers(this);\n    }\n  }\n\n  private forEachObserver(fn: (observer: Observer<T>) => void): void {\n    if (this.finalized) {\n      // Already closed by previous event....just eat the additional values.\n      return;\n    }\n\n    // Since sendOne calls asynchronously - there is no chance that\n    // this.observers will become undefined.\n    for (let i = 0; i < this.observers!.length; i++) {\n      this.sendOne(i, fn);\n    }\n  }\n\n  // Call the Observer via one of it's callback function. We are careful to\n  // confirm that the observe has not been unsubscribed since this asynchronous\n  // function had been queued.\n  private sendOne(i: number, fn: (observer: Observer<T>) => void): void {\n    // Execute the callback asynchronously\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      if (this.observers !== undefined && this.observers[i] !== undefined) {\n        try {\n          fn(this.observers[i]);\n        } catch (e) {\n          // Ignore exceptions raised in Observers or missing methods of an\n          // Observer.\n          // Log error to console. b/31404806\n          if (typeof console !== 'undefined' && console.error) {\n            console.error(e);\n          }\n        }\n      }\n    });\n  }\n\n  private close(err?: Error): void {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    if (err !== undefined) {\n      this.finalError = err;\n    }\n    // Proxy is no longer needed - garbage collect references\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      this.observers = undefined;\n      this.onNoObservers = undefined;\n    });\n  }\n}\n\n/** Turn synchronous function into one called asynchronously. */\nexport function async(fn: Function, onError?: ErrorFn): Function {\n  return (...args: unknown[]) => {\n    Promise.resolve(true)\n      .then(() => {\n        fn(...args);\n      })\n      .catch((error: Error) => {\n        if (onError) {\n          onError(error);\n        }\n      });\n  };\n}\n\n/**\n * Return true if the object passed in implements any of the named methods.\n */\nfunction implementsAnyMethods(\n  obj: { [key: string]: unknown },\n  methods: string[]\n): boolean {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  for (const method of methods) {\n    if (method in obj && typeof obj[method] === 'function') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction noop(): void {\n  // do nothing\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Check to make sure the appropriate number of arguments are provided for a public function.\n * Throws an error if it fails.\n *\n * @param fnName The function name\n * @param minCount The minimum number of arguments to allow for the function call\n * @param maxCount The maximum number of argument to allow for the function call\n * @param argCount The actual number of arguments provided.\n */\nexport const validateArgCount = function(\n  fnName: string,\n  minCount: number,\n  maxCount: number,\n  argCount: number\n): void {\n  let argError;\n  if (argCount < minCount) {\n    argError = 'at least ' + minCount;\n  } else if (argCount > maxCount) {\n    argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\n  }\n  if (argError) {\n    const error =\n      fnName +\n      ' failed: Was called with ' +\n      argCount +\n      (argCount === 1 ? ' argument.' : ' arguments.') +\n      ' Expects ' +\n      argError +\n      '.';\n    throw new Error(error);\n  }\n};\n\n/**\n * Generates a string to prefix an error message about failed argument validation\n *\n * @param fnName The function name\n * @param argumentNumber The index of the argument\n * @param optional Whether or not the argument is optional\n * @return The prefix to add to the error thrown for validation.\n */\nexport function errorPrefix(\n  fnName: string,\n  argumentNumber: number,\n  optional: boolean\n): string {\n  let argName = '';\n  switch (argumentNumber) {\n    case 1:\n      argName = optional ? 'first' : 'First';\n      break;\n    case 2:\n      argName = optional ? 'second' : 'Second';\n      break;\n    case 3:\n      argName = optional ? 'third' : 'Third';\n      break;\n    case 4:\n      argName = optional ? 'fourth' : 'Fourth';\n      break;\n    default:\n      throw new Error(\n        'errorPrefix called with argumentNumber > 4.  Need to update it?'\n      );\n  }\n\n  let error = fnName + ' failed: ';\n\n  error += argName + ' argument ';\n  return error;\n}\n\n/**\n * @param fnName\n * @param argumentNumber\n * @param namespace\n * @param optional\n */\nexport function validateNamespace(\n  fnName: string,\n  argumentNumber: number,\n  namespace: string,\n  optional: boolean\n): void {\n  if (optional && !namespace) {\n    return;\n  }\n  if (typeof namespace !== 'string') {\n    //TODO: I should do more validation here. We only allow certain chars in namespaces.\n    throw new Error(\n      errorPrefix(fnName, argumentNumber, optional) +\n        'must be a valid firebase namespace.'\n    );\n  }\n}\n\nexport function validateCallback(\n  fnName: string,\n  argumentNumber: number,\n  callback: Function,\n  optional: boolean\n): void {\n  if (optional && !callback) {\n    return;\n  }\n  if (typeof callback !== 'function') {\n    throw new Error(\n      errorPrefix(fnName, argumentNumber, optional) +\n        'must be a valid function.'\n    );\n  }\n}\n\nexport function validateContextObject(\n  fnName: string,\n  argumentNumber: number,\n  context: unknown,\n  optional: boolean\n): void {\n  if (optional && !context) {\n    return;\n  }\n  if (typeof context !== 'object' || context === null) {\n    throw new Error(\n      errorPrefix(fnName, argumentNumber, optional) +\n        'must be a valid context object.'\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from './assert';\n\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\n// so it's been modified.\n\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\n// pair).\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\n\n/**\n * @param {string} str\n * @return {Array}\n */\nexport const stringToByteArray = function(str: string): number[] {\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n\n    // Is this the lead surrogate in a surrogate pair?\n    if (c >= 0xd800 && c <= 0xdbff) {\n      const high = c - 0xd800; // the high 10 bits.\n      i++;\n      assert(i < str.length, 'Surrogate pair missing trail surrogate.');\n      const low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\n      c = 0x10000 + (high << 10) + low;\n    }\n\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (c < 65536) {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Calculate length without actually converting; useful for doing cheaper validation.\n * @param {string} str\n * @return {number}\n */\nexport const stringLength = function(str: string): number {\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    const c = str.charCodeAt(i);\n    if (c < 128) {\n      p++;\n    } else if (c < 2048) {\n      p += 2;\n    } else if (c >= 0xd800 && c <= 0xdbff) {\n      // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\n      p += 4;\n      i++; // skip trail surrogate.\n    } else {\n      p += 3;\n    }\n  }\n  return p;\n};\n","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  InstantiationMode,\n  InstanceFactory,\n  ComponentType,\n  Dictionary,\n  Name\n} from './types';\n\n/**\n * Component for service name T, e.g. `auth`, `auth-internal`\n */\nexport class Component<T extends Name = Name> {\n  multipleInstances = false;\n  /**\n   * Properties to be added to the service namespace\n   */\n  serviceProps: Dictionary = {};\n\n  instantiationMode = InstantiationMode.LAZY;\n\n  /**\n   *\n   * @param name The public service name, e.g. app, auth, firestore, database\n   * @param instanceFactory Service factory responsible for creating the public interface\n   * @param type whether the service provided by the component is public or private\n   */\n  constructor(\n    readonly name: T,\n    readonly instanceFactory: InstanceFactory<T>,\n    readonly type: ComponentType\n  ) {}\n\n  setInstantiationMode(mode: InstantiationMode): this {\n    this.instantiationMode = mode;\n    return this;\n  }\n\n  setMultipleInstances(multipleInstances: boolean): this {\n    this.multipleInstances = multipleInstances;\n    return this;\n  }\n\n  setServiceProps(props: Dictionary): this {\n    this.serviceProps = props;\n    return this;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Deferred } from '@firebase/util';\nimport { ComponentContainer } from './component_container';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport { InstantiationMode, Name, NameServiceMapping } from './types';\nimport { Component } from './component';\n\n/**\n * Provider for instance for service name T, e.g. 'auth', 'auth-internal'\n * NameServiceMapping[T] is an alias for the type of the instance\n */\nexport class Provider<T extends Name> {\n  private component: Component<T> | null = null;\n  private readonly instances: Map<string, NameServiceMapping[T]> = new Map();\n  private readonly instancesDeferred: Map<\n    string,\n    Deferred<NameServiceMapping[T]>\n  > = new Map();\n\n  constructor(\n    private readonly name: T,\n    private readonly container: ComponentContainer\n  ) {}\n\n  /**\n   * @param identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   */\n  get(identifier: string = DEFAULT_ENTRY_NAME): Promise<NameServiceMapping[T]> {\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n\n    if (!this.instancesDeferred.has(normalizedIdentifier)) {\n      const deferred = new Deferred<NameServiceMapping[T]>();\n      this.instancesDeferred.set(normalizedIdentifier, deferred);\n      // If the service instance is available, resolve the promise with it immediately\n      try {\n        const instance = this.getOrInitializeService(normalizedIdentifier);\n        if (instance) {\n          deferred.resolve(instance);\n        }\n      } catch (e) {\n        // when the instance factory throws an exception during get(), it should not cause\n        // a fatal error. We just return the unresolved promise in this case.\n      }\n    }\n\n    return this.instancesDeferred.get(normalizedIdentifier)!.promise;\n  }\n\n  /**\n   *\n   * @param options.identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   * @param options.optional If optional is false or not provided, the method throws an error when\n   * the service is not immediately available.\n   * If optional is true, the method returns null if the service is not immediately available.\n   */\n  getImmediate(options: {\n    identifier?: string;\n    optional: true;\n  }): NameServiceMapping[T] | null;\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: false;\n  }): NameServiceMapping[T];\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: boolean;\n  }): NameServiceMapping[T] | null {\n    const { identifier, optional } = {\n      identifier: DEFAULT_ENTRY_NAME,\n      optional: false,\n      ...options\n    };\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n    try {\n      const instance = this.getOrInitializeService(normalizedIdentifier);\n\n      if (!instance) {\n        if (optional) {\n          return null;\n        }\n        throw Error(`Service ${this.name} is not available`);\n      }\n      return instance;\n    } catch (e) {\n      if (optional) {\n        return null;\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  getComponent(): Component<T> | null {\n    return this.component;\n  }\n\n  setComponent(component: Component<T>): void {\n    if (component.name !== this.name) {\n      throw Error(\n        `Mismatching Component ${component.name} for Provider ${this.name}.`\n      );\n    }\n\n    if (this.component) {\n      throw Error(`Component for ${this.name} has already been provided`);\n    }\n\n    this.component = component;\n    // if the service is eager, initialize the default instance\n    if (isComponentEager(component)) {\n      try {\n        this.getOrInitializeService(DEFAULT_ENTRY_NAME);\n      } catch (e) {\n        // when the instance factory for an eager Component throws an exception during the eager\n        // initialization, it should not cause a fatal error.\n        // TODO: Investigate if we need to make it configurable, because some component may want to cause\n        // a fatal error in this case?\n      }\n    }\n\n    // Create service instances for the pending promises and resolve them\n    // NOTE: if this.multipleInstances is false, only the default instance will be created\n    // and all promises with resolve with it regardless of the identifier.\n    for (const [\n      instanceIdentifier,\n      instanceDeferred\n    ] of this.instancesDeferred.entries()) {\n      const normalizedIdentifier = this.normalizeInstanceIdentifier(\n        instanceIdentifier\n      );\n\n      try {\n        // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.\n        const instance = this.getOrInitializeService(normalizedIdentifier)!;\n        instanceDeferred.resolve(instance);\n      } catch (e) {\n        // when the instance factory throws an exception, it should not cause\n        // a fatal error. We just leave the promise unresolved.\n      }\n    }\n  }\n\n  clearInstance(identifier: string = DEFAULT_ENTRY_NAME): void {\n    this.instancesDeferred.delete(identifier);\n    this.instances.delete(identifier);\n  }\n\n  // app.delete() will call this method on every provider to delete the services\n  // TODO: should we mark the provider as deleted?\n  async delete(): Promise<void> {\n    const services = Array.from(this.instances.values());\n\n    await Promise.all(\n      services\n        .filter(service => 'INTERNAL' in service)\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .map(service => (service as any).INTERNAL!.delete())\n    );\n  }\n\n  isComponentSet(): boolean {\n    return this.component != null;\n  }\n\n  private getOrInitializeService(\n    identifier: string\n  ): NameServiceMapping[T] | null {\n    let instance = this.instances.get(identifier);\n    if (!instance && this.component) {\n      instance = this.component.instanceFactory(\n        this.container,\n        normalizeIdentifierForFactory(identifier)\n      ) as NameServiceMapping[T];\n      this.instances.set(identifier, instance);\n    }\n\n    return instance || null;\n  }\n\n  private normalizeInstanceIdentifier(identifier: string): string {\n    if (this.component) {\n      return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;\n    } else {\n      return identifier; // assume multiple instances are supported before the component is provided.\n    }\n  }\n}\n\n// undefined should be passed to the service factory for the default instance\nfunction normalizeIdentifierForFactory(identifier: string): string | undefined {\n  return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;\n}\n\nfunction isComponentEager(component: Component<Name>): boolean {\n  return component.instantiationMode === InstantiationMode.EAGER;\n}\n","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Provider } from './provider';\nimport { Component } from './component';\nimport { Name } from './types';\n\n/**\n * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`\n */\nexport class ComponentContainer {\n  private readonly providers = new Map<string, Provider<Name>>();\n\n  constructor(private readonly name: string) {}\n\n  /**\n   *\n   * @param component Component being added\n   * @param overwrite When a component with the same name has already been registered,\n   * if overwrite is true: overwrite the existing component with the new component and create a new\n   * provider with the new component. It can be useful in tests where you want to use different mocks\n   * for different tests.\n   * if overwrite is false: throw an exception\n   */\n  addComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      throw new Error(\n        `Component ${component.name} has already been registered with ${this.name}`\n      );\n    }\n\n    provider.setComponent(component);\n  }\n\n  addOrOverwriteComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      // delete the existing provider from the container, so we can register the new component\n      this.providers.delete(component.name);\n    }\n\n    this.addComponent(component);\n  }\n\n  /**\n   * getProvider provides a type safe interface where it can only be called with a field name\n   * present in NameServiceMapping interface.\n   *\n   * Firebase SDKs providing services should extend NameServiceMapping interface to register\n   * themselves.\n   */\n  getProvider<T extends Name>(name: T): Provider<T> {\n    if (this.providers.has(name)) {\n      return this.providers.get(name) as Provider<T>;\n    }\n\n    // create a Provider for a service that hasn't registered with Firebase\n    const provider = new Provider<T>(name, this);\n    this.providers.set(name, provider);\n\n    return provider as Provider<T>;\n  }\n\n  getProviders(): Array<Provider<Name>> {\n    return Array.from(this.providers.values());\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type LogLevelString =\n  | 'debug'\n  | 'verbose'\n  | 'info'\n  | 'warn'\n  | 'error'\n  | 'silent';\n\nexport interface LogOptions {\n  level: LogLevelString;\n}\n\nexport type LogCallback = (callbackParams: LogCallbackParams) => void;\n\nexport interface LogCallbackParams {\n  level: LogLevelString;\n  message: string;\n  args: unknown[];\n  type: string;\n}\n\n/**\n * A container for all of the Logger instances\n */\nexport const instances: Logger[] = [];\n\n/**\n * The JS SDK supports 5 log levels and also allows a user the ability to\n * silence the logs altogether.\n *\n * The order is a follows:\n * DEBUG < VERBOSE < INFO < WARN < ERROR\n *\n * All of the log types above the current log level will be captured (i.e. if\n * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and\n * `VERBOSE` logs will not)\n */\nexport enum LogLevel {\n  DEBUG,\n  VERBOSE,\n  INFO,\n  WARN,\n  ERROR,\n  SILENT\n}\n\nconst levelStringToEnum: { [key in LogLevelString]: LogLevel } = {\n  'debug': LogLevel.DEBUG,\n  'verbose': LogLevel.VERBOSE,\n  'info': LogLevel.INFO,\n  'warn': LogLevel.WARN,\n  'error': LogLevel.ERROR,\n  'silent': LogLevel.SILENT\n};\n\n/**\n * The default log level\n */\nconst defaultLogLevel: LogLevel = LogLevel.INFO;\n\n/**\n * We allow users the ability to pass their own log handler. We will pass the\n * type of log, the current log level, and any other arguments passed (i.e. the\n * messages that the user wants to log) to this function.\n */\nexport type LogHandler = (\n  loggerInstance: Logger,\n  logType: LogLevel,\n  ...args: unknown[]\n) => void;\n\n/**\n * By default, `console.debug` is not displayed in the developer console (in\n * chrome). To avoid forcing users to have to opt-in to these logs twice\n * (i.e. once for firebase, and once in the console), we are sending `DEBUG`\n * logs to the `console.log` function.\n */\nconst ConsoleMethod = {\n  [LogLevel.DEBUG]: 'log',\n  [LogLevel.VERBOSE]: 'log',\n  [LogLevel.INFO]: 'info',\n  [LogLevel.WARN]: 'warn',\n  [LogLevel.ERROR]: 'error'\n};\n\n/**\n * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR\n * messages on to their corresponding console counterparts (if the log method\n * is supported by the current log level)\n */\nconst defaultLogHandler: LogHandler = (instance, logType, ...args): void => {\n  if (logType < instance.logLevel) {\n    return;\n  }\n  const now = new Date().toISOString();\n  const method = ConsoleMethod[logType as keyof typeof ConsoleMethod];\n  if (method) {\n    console[method as 'log' | 'info' | 'warn' | 'error'](\n      `[${now}]  ${instance.name}:`,\n      ...args\n    );\n  } else {\n    throw new Error(\n      `Attempted to log a message with an invalid logType (value: ${logType})`\n    );\n  }\n};\n\nexport class Logger {\n  /**\n   * Gives you an instance of a Logger to capture messages according to\n   * Firebase's logging scheme.\n   *\n   * @param name The name that the logs will be associated with\n   */\n  constructor(public name: string) {\n    /**\n     * Capture the current instance for later use\n     */\n    instances.push(this);\n  }\n\n  /**\n   * The log level of the given Logger instance.\n   */\n  private _logLevel = defaultLogLevel;\n  get logLevel(): LogLevel {\n    return this._logLevel;\n  }\n  set logLevel(val: LogLevel) {\n    if (!(val in LogLevel)) {\n      throw new TypeError('Invalid value assigned to `logLevel`');\n    }\n    this._logLevel = val;\n  }\n\n  /**\n   * The main (internal) log handler for the Logger instance.\n   * Can be set to a new function in internal package code but not by user.\n   */\n  private _logHandler: LogHandler = defaultLogHandler;\n  get logHandler(): LogHandler {\n    return this._logHandler;\n  }\n  set logHandler(val: LogHandler) {\n    if (typeof val !== 'function') {\n      throw new TypeError('Value assigned to `logHandler` must be a function');\n    }\n    this._logHandler = val;\n  }\n\n  /**\n   * The optional, additional, user-defined log handler for the Logger instance.\n   */\n  private _userLogHandler: LogHandler | null = null;\n  get userLogHandler(): LogHandler | null {\n    return this._userLogHandler;\n  }\n  set userLogHandler(val: LogHandler | null) {\n    this._userLogHandler = val;\n  }\n\n  /**\n   * The functions below are all based on the `console` interface\n   */\n\n  debug(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);\n    this._logHandler(this, LogLevel.DEBUG, ...args);\n  }\n  log(...args: unknown[]): void {\n    this._userLogHandler &&\n      this._userLogHandler(this, LogLevel.VERBOSE, ...args);\n    this._logHandler(this, LogLevel.VERBOSE, ...args);\n  }\n  info(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);\n    this._logHandler(this, LogLevel.INFO, ...args);\n  }\n  warn(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);\n    this._logHandler(this, LogLevel.WARN, ...args);\n  }\n  error(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);\n    this._logHandler(this, LogLevel.ERROR, ...args);\n  }\n}\n\nexport function setLogLevel(level: LogLevelString | LogLevel): void {\n  const newLevel = typeof level === 'string' ? levelStringToEnum[level] : level;\n  instances.forEach(inst => {\n    inst.logLevel = newLevel;\n  });\n}\n\nexport function setUserLogHandler(\n  logCallback: LogCallback | null,\n  options?: LogOptions\n): void {\n  for (const instance of instances) {\n    let customLogLevel: LogLevel | null = null;\n    if (options && options.level) {\n      customLogLevel = levelStringToEnum[options.level];\n    }\n    if (logCallback === null) {\n      instance.userLogHandler = null;\n    } else {\n      instance.userLogHandler = (\n        instance: Logger,\n        level: LogLevel,\n        ...args: unknown[]\n      ) => {\n        const message = args\n          .map(arg => {\n            if (arg == null) {\n              return null;\n            } else if (typeof arg === 'string') {\n              return arg;\n            } else if (typeof arg === 'number' || typeof arg === 'boolean') {\n              return arg.toString();\n            } else if (arg instanceof Error) {\n              return arg.message;\n            } else {\n              try {\n                return JSON.stringify(arg);\n              } catch (ignored) {\n                return null;\n              }\n            }\n          })\n          .filter(arg => arg)\n          .join(' ');\n        if (level >= (customLogLevel ?? instance.logLevel)) {\n          logCallback({\n            level: LogLevel[level].toLowerCase() as LogLevelString,\n            message,\n            args,\n            type: instance.name\n          });\n        }\n      };\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseAppConfig\n} from '@firebase/app-types';\nimport {\n  _FirebaseApp,\n  _FirebaseNamespace,\n  FirebaseService\n} from '@firebase/app-types/private';\nimport { deepCopy } from '@firebase/util';\nimport {\n  ComponentContainer,\n  Component,\n  ComponentType,\n  Name\n} from '@firebase/component';\nimport { AppError, ERROR_FACTORY } from './errors';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport { logger } from './logger';\n\n/**\n * Global context object for a collection of services using\n * a shared authentication state.\n */\nexport class FirebaseAppImpl implements FirebaseApp {\n  private readonly options_: FirebaseOptions;\n  private readonly name_: string;\n  private isDeleted_ = false;\n  private automaticDataCollectionEnabled_: boolean;\n  private container: ComponentContainer;\n\n  constructor(\n    options: FirebaseOptions,\n    config: FirebaseAppConfig,\n    private readonly firebase_: _FirebaseNamespace\n  ) {\n    this.name_ = config.name!;\n    this.automaticDataCollectionEnabled_ =\n      config.automaticDataCollectionEnabled || false;\n    this.options_ = deepCopy<FirebaseOptions>(options);\n    this.container = new ComponentContainer(config.name!);\n\n    // add itself to container\n    this._addComponent(new Component('app', () => this, ComponentType.PUBLIC));\n    // populate ComponentContainer with existing components\n    for (const component of this.firebase_.INTERNAL.components.values()) {\n      this._addComponent(component);\n    }\n  }\n\n  get automaticDataCollectionEnabled(): boolean {\n    this.checkDestroyed_();\n    return this.automaticDataCollectionEnabled_;\n  }\n\n  set automaticDataCollectionEnabled(val) {\n    this.checkDestroyed_();\n    this.automaticDataCollectionEnabled_ = val;\n  }\n\n  get name(): string {\n    this.checkDestroyed_();\n    return this.name_;\n  }\n\n  get options(): FirebaseOptions {\n    this.checkDestroyed_();\n    return this.options_;\n  }\n\n  delete(): Promise<void> {\n    return new Promise(resolve => {\n      this.checkDestroyed_();\n      resolve();\n    })\n      .then(() => {\n        this.firebase_.INTERNAL.removeApp(this.name_);\n\n        return Promise.all(\n          this.container.getProviders().map(provider => provider.delete())\n        );\n      })\n      .then((): void => {\n        this.isDeleted_ = true;\n      });\n  }\n\n  /**\n   * Return a service instance associated with this app (creating it\n   * on demand), identified by the passed instanceIdentifier.\n   *\n   * NOTE: Currently storage and functions are the only ones that are leveraging this\n   * functionality. They invoke it by calling:\n   *\n   * ```javascript\n   * firebase.app().storage('STORAGE BUCKET ID')\n   * ```\n   *\n   * The service name is passed to this already\n   * @internal\n   */\n  _getService(\n    name: string,\n    instanceIdentifier: string = DEFAULT_ENTRY_NAME\n  ): FirebaseService {\n    this.checkDestroyed_();\n\n    // getImmediate will always succeed because _getService is only called for registered components.\n    return (this.container.getProvider(name as Name).getImmediate({\n      identifier: instanceIdentifier\n    }) as unknown) as FirebaseService;\n  }\n  /**\n   * Remove a service instance from the cache, so we will create a new instance for this service\n   * when people try to get this service again.\n   *\n   * NOTE: currently only firestore is using this functionality to support firestore shutdown.\n   *\n   * @param name The service name\n   * @param instanceIdentifier instance identifier in case multiple instances are allowed\n   * @internal\n   */\n  _removeServiceInstance(\n    name: string,\n    instanceIdentifier: string = DEFAULT_ENTRY_NAME\n  ): void {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.container.getProvider(name as any).clearInstance(instanceIdentifier);\n  }\n\n  /**\n   * @param component the component being added to this app's container\n   */\n  _addComponent(component: Component): void {\n    try {\n      this.container.addComponent(component);\n    } catch (e) {\n      logger.debug(\n        `Component ${component.name} failed to register with FirebaseApp ${this.name}`,\n        e\n      );\n    }\n  }\n\n  _addOrOverwriteComponent(component: Component): void {\n    this.container.addOrOverwriteComponent(component);\n  }\n\n  /**\n   * This function will throw an Error if the App has already been deleted -\n   * use before performing API actions on the App.\n   */\n  private checkDestroyed_(): void {\n    if (this.isDeleted_) {\n      throw ERROR_FACTORY.create(AppError.APP_DELETED, { appName: this.name_ });\n    }\n  }\n}\n\n// Prevent dead-code elimination of these methods w/o invalid property\n// copying.\n(FirebaseAppImpl.prototype.name && FirebaseAppImpl.prototype.options) ||\n  FirebaseAppImpl.prototype.delete ||\n  console.log('dc');\n","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseNamespace,\n  FirebaseAppConfig\n} from '@firebase/app-types';\nimport {\n  _FirebaseApp,\n  _FirebaseNamespace,\n  FirebaseService,\n  FirebaseServiceNamespace\n} from '@firebase/app-types/private';\nimport { deepExtend, contains } from '@firebase/util';\nimport { FirebaseAppImpl } from './firebaseApp';\nimport { ERROR_FACTORY, AppError } from './errors';\nimport { FirebaseAppLiteImpl } from './lite/firebaseAppLite';\nimport { DEFAULT_ENTRY_NAME, PLATFORM_LOG_STRING } from './constants';\nimport { version } from '../../firebase/package.json';\nimport { logger } from './logger';\nimport {\n  setUserLogHandler,\n  setLogLevel,\n  LogCallback,\n  LogOptions\n} from '@firebase/logger';\nimport { Component, ComponentType, Name } from '@firebase/component';\n\n/**\n * Because auth can't share code with other components, we attach the utility functions\n * in an internal namespace to share code.\n * This function return a firebase namespace object without\n * any utility functions, so it can be shared between the regular firebaseNamespace and\n * the lite version.\n */\nexport function createFirebaseNamespaceCore(\n  firebaseAppImpl: typeof FirebaseAppImpl | typeof FirebaseAppLiteImpl\n): FirebaseNamespace {\n  const apps: { [name: string]: FirebaseApp } = {};\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const components = new Map<string, Component<any>>();\n\n  // A namespace is a plain JavaScript Object.\n  const namespace: FirebaseNamespace = {\n    // Hack to prevent Babel from modifying the object returned\n    // as the firebase namespace.\n    // @ts-ignore\n    __esModule: true,\n    initializeApp,\n    // @ts-ignore\n    app,\n    registerVersion,\n    setLogLevel,\n    onLog,\n    // @ts-ignore\n    apps: null,\n    SDK_VERSION: version,\n    INTERNAL: {\n      registerComponent,\n      removeApp,\n      components,\n      useAsService\n    }\n  };\n\n  // Inject a circular default export to allow Babel users who were previously\n  // using:\n  //\n  //   import firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase').default;\n  //\n  // instead of\n  //\n  //   import * as firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase');\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (namespace as any)['default'] = namespace;\n\n  // firebase.apps is a read-only getter.\n  Object.defineProperty(namespace, 'apps', {\n    get: getApps\n  });\n\n  /**\n   * Called by App.delete() - but before any services associated with the App\n   * are deleted.\n   */\n  function removeApp(name: string): void {\n    delete apps[name];\n  }\n\n  /**\n   * Get the App object for a given name (or DEFAULT).\n   */\n  function app(name?: string): FirebaseApp {\n    name = name || DEFAULT_ENTRY_NAME;\n    if (!contains(apps, name)) {\n      throw ERROR_FACTORY.create(AppError.NO_APP, { appName: name });\n    }\n    return apps[name];\n  }\n\n  // @ts-ignore\n  app['App'] = firebaseAppImpl;\n  /**\n   * Create a new App instance (name must be unique).\n   */\n  function initializeApp(\n    options: FirebaseOptions,\n    config?: FirebaseAppConfig\n  ): FirebaseApp;\n  function initializeApp(options: FirebaseOptions, name?: string): FirebaseApp;\n  function initializeApp(\n    options: FirebaseOptions,\n    rawConfig = {}\n  ): FirebaseApp {\n    if (typeof rawConfig !== 'object' || rawConfig === null) {\n      const name = rawConfig;\n      rawConfig = { name };\n    }\n\n    const config = rawConfig as FirebaseAppConfig;\n\n    if (config.name === undefined) {\n      config.name = DEFAULT_ENTRY_NAME;\n    }\n\n    const { name } = config;\n\n    if (typeof name !== 'string' || !name) {\n      throw ERROR_FACTORY.create(AppError.BAD_APP_NAME, {\n        appName: String(name)\n      });\n    }\n\n    if (contains(apps, name)) {\n      throw ERROR_FACTORY.create(AppError.DUPLICATE_APP, { appName: name });\n    }\n\n    const app = new firebaseAppImpl(\n      options,\n      config,\n      namespace as _FirebaseNamespace\n    );\n\n    apps[name] = app;\n\n    return app;\n  }\n\n  /*\n   * Return an array of all the non-deleted FirebaseApps.\n   */\n  function getApps(): FirebaseApp[] {\n    // Make a copy so caller cannot mutate the apps list.\n    return Object.keys(apps).map(name => apps[name]);\n  }\n\n  function registerComponent(\n    component: Component\n  ): FirebaseServiceNamespace<FirebaseService> | null {\n    const componentName = component.name;\n    if (components.has(componentName)) {\n      logger.debug(\n        `There were multiple attempts to register component ${componentName}.`\n      );\n\n      return component.type === ComponentType.PUBLIC\n        ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (namespace as any)[componentName]\n        : null;\n    }\n\n    components.set(componentName, component);\n\n    // create service namespace for public components\n    if (component.type === ComponentType.PUBLIC) {\n      // The Service namespace is an accessor function ...\n      const serviceNamespace = (\n        appArg: FirebaseApp = app()\n      ): FirebaseService => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (typeof (appArg as any)[componentName] !== 'function') {\n          // Invalid argument.\n          // This happens in the following case: firebase.storage('gs:/')\n          throw ERROR_FACTORY.create(AppError.INVALID_APP_ARGUMENT, {\n            appName: componentName\n          });\n        }\n\n        // Forward service instance lookup to the FirebaseApp.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return (appArg as any)[componentName]();\n      };\n\n      // ... and a container for service-level properties.\n      if (component.serviceProps !== undefined) {\n        deepExtend(serviceNamespace, component.serviceProps);\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (namespace as any)[componentName] = serviceNamespace;\n\n      // Patch the FirebaseAppImpl prototype\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (firebaseAppImpl.prototype as any)[componentName] =\n        // TODO: The eslint disable can be removed and the 'ignoreRestArgs'\n        // option added to the no-explicit-any rule when ESlint releases it.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        function(...args: any) {\n          const serviceFxn = this._getService.bind(this, componentName);\n          return serviceFxn.apply(\n            this,\n            component.multipleInstances ? args : []\n          );\n        };\n    }\n\n    // add the component to existing app instances\n    for (const appName of Object.keys(apps)) {\n      (apps[appName] as _FirebaseApp)._addComponent(component);\n    }\n\n    return component.type === ComponentType.PUBLIC\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (namespace as any)[componentName]\n      : null;\n  }\n\n  function registerVersion(\n    libraryKeyOrName: string,\n    version: string,\n    variant?: string\n  ): void {\n    // TODO: We can use this check to whitelist strings when/if we set up\n    // a good whitelist system.\n    let library = PLATFORM_LOG_STRING[libraryKeyOrName] ?? libraryKeyOrName;\n    if (variant) {\n      library += `-${variant}`;\n    }\n    const libraryMismatch = library.match(/\\s|\\//);\n    const versionMismatch = version.match(/\\s|\\//);\n    if (libraryMismatch || versionMismatch) {\n      const warning = [\n        `Unable to register library \"${library}\" with version \"${version}\":`\n      ];\n      if (libraryMismatch) {\n        warning.push(\n          `library name \"${library}\" contains illegal characters (whitespace or \"/\")`\n        );\n      }\n      if (libraryMismatch && versionMismatch) {\n        warning.push('and');\n      }\n      if (versionMismatch) {\n        warning.push(\n          `version name \"${version}\" contains illegal characters (whitespace or \"/\")`\n        );\n      }\n      logger.warn(warning.join(' '));\n      return;\n    }\n    registerComponent(\n      new Component(\n        `${library}-version` as Name,\n        () => ({ library, version }),\n        ComponentType.VERSION\n      )\n    );\n  }\n\n  function onLog(logCallback: LogCallback | null, options?: LogOptions): void {\n    if (logCallback !== null && typeof logCallback !== 'function') {\n      throw ERROR_FACTORY.create(AppError.INVALID_LOG_ARGUMENT, {\n        appName: name\n      });\n    }\n    setUserLogHandler(logCallback, options);\n  }\n\n  // Map the requested service to a registered service name\n  // (used to map auth to serverAuth service when needed).\n  function useAsService(app: FirebaseApp, name: string): string | null {\n    if (name === 'serverAuth') {\n      return null;\n    }\n\n    const useService = name;\n\n    return useService;\n  }\n\n  return namespace;\n}\n","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseNamespace } from '@firebase/app-types';\nimport { _FirebaseApp, _FirebaseNamespace } from '@firebase/app-types/private';\nimport { createSubscribe, deepExtend, ErrorFactory } from '@firebase/util';\nimport { FirebaseAppImpl } from './firebaseApp';\nimport { createFirebaseNamespaceCore } from './firebaseNamespaceCore';\n\n/**\n * Return a firebase namespace object.\n *\n * In production, this will be called exactly once and the result\n * assigned to the 'firebase' global.  It may be called multiple times\n * in unit tests.\n */\nexport function createFirebaseNamespace(): FirebaseNamespace {\n  const namespace = createFirebaseNamespaceCore(FirebaseAppImpl);\n  (namespace as _FirebaseNamespace).INTERNAL = {\n    ...(namespace as _FirebaseNamespace).INTERNAL,\n    createFirebaseNamespace,\n    extendNamespace,\n    createSubscribe,\n    ErrorFactory,\n    deepExtend\n  };\n\n  /**\n   * Patch the top-level firebase namespace with additional properties.\n   *\n   * firebase.INTERNAL.extendNamespace()\n   */\n  function extendNamespace(props: { [prop: string]: unknown }): void {\n    deepExtend(namespace, props);\n  }\n\n  return namespace;\n}\n\nexport const firebase = createFirebaseNamespace();\n","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ComponentContainer,\n  ComponentType,\n  Provider,\n  Name\n} from '@firebase/component';\n\nexport class PlatformLoggerService {\n  constructor(private readonly container: ComponentContainer) {}\n  // In initial implementation, this will be called by installations on\n  // auth token refresh, and installations will send this string.\n  getPlatformInfoString(): string {\n    const providers = this.container.getProviders();\n    // Loop through providers and get library/version pairs from any that are\n    // version components.\n    return providers\n      .map(provider => {\n        if (isVersionServiceProvider(provider)) {\n          const service = provider.getImmediate();\n          return `${service.library}/${service.version}`;\n        } else {\n          return null;\n        }\n      })\n      .filter(logString => logString)\n      .join(' ');\n  }\n}\n/**\n *\n * @param provider check if this provider provides a VersionService\n *\n * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider\n * provides VersionService. The provider is not necessarily a 'app-version'\n * provider.\n */\nfunction isVersionServiceProvider(\n  provider: Provider<Name>\n): provider is Provider<'app-version'> {\n  const component = provider.getComponent();\n  return component?.type === ComponentType.VERSION;\n}\n","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseNamespace } from '@firebase/app-types';\nimport { _FirebaseNamespace } from '@firebase/app-types/private';\nimport { Component, ComponentType } from '@firebase/component';\nimport { PlatformLoggerService } from './platformLoggerService';\nimport { name, version } from '../package.json';\n\nexport function registerCoreComponents(\n  firebase: FirebaseNamespace,\n  variant?: string\n): void {\n  (firebase as _FirebaseNamespace).INTERNAL.registerComponent(\n    new Component(\n      'platform-logger',\n      container => new PlatformLoggerService(container),\n      ComponentType.PRIVATE\n    )\n  );\n  // Register `app` package.\n  firebase.registerVersion(name, version, variant);\n  // Register platform SDK identifier (no version).\n  firebase.registerVersion('fire-js', '');\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseNamespace } from '@firebase/app-types';\nimport { firebase as firebaseNamespace } from './src/firebaseNamespace';\nimport { isNode, isBrowser } from '@firebase/util';\nimport { logger } from './src/logger';\nimport { registerCoreComponents } from './src/registerCoreComponents';\n\n// Firebase Lite detection test\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nif (isBrowser() && (self as any).firebase !== undefined) {\n  logger.warn(`\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  `);\n\n  // eslint-disable-next-line\n  const sdkVersion = ((self as any).firebase as FirebaseNamespace).SDK_VERSION;\n  if (sdkVersion && sdkVersion.indexOf('LITE') >= 0) {\n    logger.warn(`\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    `);\n  }\n}\n\nconst initializeApp = firebaseNamespace.initializeApp;\n\n// TODO: This disable can be removed and the 'ignoreRestArgs' option added to\n// the no-explicit-any rule when ESlint releases it.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfirebaseNamespace.initializeApp = function(...args: any) {\n  // Environment check before initializing app\n  // Do the check in initializeApp, so people have a chance to disable it by setting logLevel\n  // in @firebase/logger\n  if (isNode()) {\n    logger.warn(`\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the \"main\" field in package.json.\n      \n      If you are using Webpack, you can specify \"main\" as the first item in\n      \"resolve.mainFields\":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify \"main\"\n      as the first item in \"mainFields\", e.g. ['main', 'module'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      `);\n  }\n  return initializeApp.apply(undefined, args);\n};\n\nexport const firebase = firebaseNamespace;\n\nregisterCoreComponents(firebase);\n\n// eslint-disable-next-line import/no-default-export\nexport default firebase;\n","export default {\n    rootElement: null,\n    init: function (rootElement) {\n        this.rootElement = rootElement;\n        this.rootElement.addEventListener('click', this.handleEvent.bind(this));\n    },\n    events: {},\n    didMountList: [],\n    handleEvent: function (event) {\n        for (let i in this.events) {\n            if (document.querySelector(i) === event.target) {\n                this.events[i](event);\n                break;\n            }\n        }\n    },\n    addEventListener: function (selector, handler) {\n        this.events[selector] = handler;\n    },\n    componentDidMount(callback) {\n        this.didMountList.push(callback);\n    },\n    triggerComponentDidMount() {\n        this.didMountList.forEach(item => item())\n    }\n}\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","export default function mainReducer(state, action) {\n\n    if(action.type === 'SHOW_LOGIN_FORM' ) {\n        return Object.assign({}, state, {loginForm: true});\n    }\n\n    if(action.type === 'CLOSED_LOGIN_FORM' ) {\n        return Object.assign({}, state, {loginForm: false});\n    }\n    return state;\n}\n","import {createStore} from \"redux\";\nimport mainReducer from './reducers/mainReducer';\n\nlet initial = {\n    loginForm: false,\n    \"students\": [\n        {\n            \"userId\": 1,\n            \"userName\": \"Hasan\",\n            \"userPassword\": \"1234\",\n            \"userScore\": 0\n        },\n        {\n            \"userId\": 2,\n            \"userName\": \"Onur\",\n            \"userPassword\": \"2468\",\n            \"userScore\": 0\n        },\n        {\n            \"userId\": 3,\n            \"userName\": \"Batu\",\n            \"userPassword\": \"1357\",\n            \"userScore\": 0\n        }\n    ]\n};\n\nlet store = createStore(mainReducer, initial, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\n    trace: true\n}));\n\nexport default store;\n","import EventHandler from '../Core/EventHandler'\nimport store from \"../store\";\n\nexport default class BaseComponent {\n    getContent(component) {\n        return component.render();\n    }\n\n    addEventListener(selector, handler) {\n        console.log(selector);\n        EventHandler.addEventListener(selector, handler)\n    }\n\n    render() {\n        // main componet\n    }\n}\n","import BaseComponent from \"./BaseComponent\";\nimport store from '../store';\n// data-target=\"#loginModal\"\nconst template = `    <div class=\"d-flex align-items-center justify-content-between p-3 my-3 text-white-50 bg-purple rounded shadow-sm\">\n      <div class=\"d-flex align-items-center \">\n        <img class=\"mr-3\" src=\"https://image.flaticon.com/icons/svg/2436/2436635.svg\" alt=\"\" width=\"100\" height=\"100\">\n        <div class=\"lh-100\">\n          <h3 class=\"mb-0 text-white lh-100\">Çarpım Tablosu</h3>\n          <small>Test your knowledge</small>\n        </div>\n      </div>\n      <button class=\"btn btn-light login-btn\"  data-toggle=\"modal\">\n        <img src=\"https://image.flaticon.com/icons/svg/1000/1000997.svg\" width=\"30\" height=\"30\" alt=\"\">\n        Giriş yap\n      </button>\n      <button class=\"btn btn-warning logout-btn\">\n        <img src=\"https://image.flaticon.com/icons/svg/1000/1000997.svg\" width=\"30\" height=\"30\" alt=\"\">\n        Çıkış yap\n      </button>\n    </div>`;\n\n\nexport default class HeaderComponent extends BaseComponent{\n    constructor() {\n        super();\n        this.addEventListener('.login-btn', function (event) {\n            store.dispatch({\n                type: 'SHOW_LOGIN_FORM',\n            })\n        });\n    }\n\n    render() {\n        return template;\n    }\n}\n","module.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};","import Events from 'minivents';\nimport { createStore } from 'redux';\n\n\n\nexport const store = createStore(function(state, action){\n    switch (action.type) {\n        case 'setCurrentStudentsData':\n            return Object.assign({}, state, {\n                currentStudentsData: action.payload\n            });\n        case 'SCORE':\n\n            return Object.assign({}, state, {\n                score: state.score + 100\n            });\n        default:\n            return state\n    }\n});\n\nexport let eventManager = new Events();\nexport let introScoreList = document.querySelector(\".intro-score-list\");\nexport let loginClose = document.querySelector(\".close\");\nexport let loginBtn = document.querySelector('.login-button');\nexport let userNameInput = document.querySelector('#userName');\nexport let userPassInput = document.querySelector('#userPass');\nexport let logOutBtn = document.querySelector(\".logout-btn\");\nexport let loginCheckAlert = document.querySelector(\".login-control-alert\");\nexport let activeUserNameContainer = document.querySelector(\".active-user-name\");\nexport let activeUserScoreContainer = document.querySelector(\".user-score\");\nexport let quizContainer = document.querySelector(\".quiz-container\");\nexport let quizContainerHeading = document.querySelector(\".quiz-container\");\nexport let quizHeading = document.querySelector(\".quiz-heading\");\nexport let quizMainBox = document.querySelector(\".quiz-main-box\");\nexport let startQuiz = document.querySelector(\".start-to-quiz\");\nexport let quizGuessResult = document.querySelector(\".quiz-guess-result\");\nexport let quizNumberFirst = document.querySelector(\".number-one\");\nexport let quizNumberSecond = document.querySelector(\".number-two\");\nexport let quizGuessInput = document.querySelector(\".quiz-guess\");\nexport let timerBox = document.querySelector(\"#timer-box\");\nexport let userHistory = [];\nexport let userHistoryContainer = document.querySelector('#userHistoryContainer');\n\n\nexport const appPrefix = {\n    students: '__kerrat_students',\n    currentStudent: \"__kerrat_current_student\",\n    historyStudent: \"__history_students\"\n};\n\nexport let introListTemplate = `\n<div class=\"d-flex align-items-center justify-content-between py-2 border-bottom border-gray scoreboard-list-item\">\n  <div class=\"d-flex align-items-center\">\n    <img class=\"mr-2 rounded\" src=\"img/user-__STUDENTICON__.svg\" width=\"80\" height=\"80\">\n    <div class=\"media-body mb-0 small lh-125\">\n      <div class=\"d-flex justify-content-between align-items-center w-100\">\n        <h5 class=\"text-gray-dark\">__STUDENTNAME__</h5>\n      </div>\n    </div>\n  </div>\n  <h4 class=\"user-score\">\n    <span class=\"badge badge-success\">__STUDENTSCORE__</span> <small>Puan</small>\n  </h4>\n</div>\n`;\n\nexport let quizHeadingTemplate = `\n<div class=\"d-flex align-items-center justify-content-between border-bottom border-gray\">\n  <div class=\"d-flex align-items-center\">\n    <img alt=\"32x32\" class=\"mr-2 rounded\" src=\"img/user-__STUDENTICON__.svg\" width=\"100\" height=\"100\">\n    <div class=\"media-body mb-0 small lh-125\">\n      <div class=\"d-flex justify-content-between align-items-center w-100 flex-column\">\n        <h5 class=\"text-gray-dark active-user-name\">__STUDENTNAME__</h5>\n      </div>\n    </div>\n  </div>\n  <h3 class=\"user-score-box\">\n      Toplam Puanın: <span class=\"user-score\">__STUDENTSCORE__</span>  \n      <span class=\"userHistoryBtn\" data-toggle=\"modal\" data-target=\"#historyModal\">Cevap Geçmişi</span>\n  </h3>\n</div>\n`;\n\n\nexport let historyStudentTemplate = `\n<tr>\n  <td>__NUMBERONE__</td>\n  <td>x</td>\n  <td>__NUMBERTWO__</td>\n  <td>=</td>\n  <td>__USERRESULT__</td>\n  <td>__TRUERESULT__</td>\n  <td>__RESULT__</td>\n</tr>\n`;\n\n","import {introListTemplate} from '../../variables';\n\nexport default class ScoreListItemsComponent {\n    constructor(data) {\n        this.introScoreData = data;\n    }\n\n    render() {\n        return this.introScoreData.reduce((carry, item) => {\n            carry += introListTemplate\n                .replace(/__STUDENTNAME__/, item.userName)\n                .replace(/__STUDENTICON__/, item.userId)\n                .replace(/__STUDENTSCORE__/, item.userScore);\n            return carry;\n        }, '');\n    }\n}\n","import ScoreListItemsComponent from './ScoreListItemsComponent';\n\nconst scoreListTemplate = `<div class=\"my-3 p-3 bg-white rounded shadow-sm position-relative score-list-container flipInX\">\n      <h4 class=\"pb-2 mb-3 question-title\">Skor Listesi</h4>\n      <div class=\"mt-3 intro-score-list\">__ITEMS__</div>\n      </div>`;\n\n\nexport default class ScoreListComponent {\n    constructor(data) {\n        this.data = data;\n    }\n    render() {\n        return scoreListTemplate.replace('__ITEMS__', (new ScoreListItemsComponent(this.data)).render())\n    }\n}\n","\nconst template = `<div class=\"quiz-heading\">\n\n        </div>`\n\nexport default class QuizHeadingComponent {\n\n    render () {\n        return template\n    }\n}\n","import QuizHeadingComponent from './QuizHeadingComponent';\n\nconst template = `<div class=\"my-3 p-3 bg-white rounded shadow-sm position-relative students-test-panel flipInX\" >\n      <div class=\"quiz-container\">\n        __QUIZ_HEADING__\n\n        <div class=\"d-flex flex-column align-items-center justify-content-center mt-4\">\n          <h4 class=\"alert alert-success count-down-box \">\n            <small class=\"mr-1\">Quiz Time</small> <span class=\"badge badge-dark\" id=\"timer-box\">0:10</span>\n          </h4>\n          <button type=\"button\" class=\"d-flex align-items-center justify-content-center btn btn-success btn-lg btn-block py-5 start-to-quiz\">\n            <img class=\"quiz-start-icon\" src=\"https://image.flaticon.com/icons/svg/1944/1944882.svg\">\n            <h2 class=\"quiz-start-text ml-4\"> Çarpmaya Başla</h2>\n          </button>\n        </div>\n\n        <div class=\"d-none align-items-center justify-content-center quiz-main-box flipInX\">\n          <div class=\"number-one\"> </div>\n          <div class=\"number-seperator mx-4\">X</div>\n          <div class=\"number-two\"> </div>\n          <div class=\"number-seperator mx-4\"> = </div>\n          <input class=\"quiz-guess  ml-4\" type=\"text\" value=\"\" />\n          <div class=\"alert  quiz-guess-result ml-2\">\n\n          </div>\n\n        </div>\n      </div>\n    </div>`;\n\nexport default class QuizContainerComponent {\n    render () {\n        return template.replace('__QUIZ_HEADING__', (new QuizHeadingComponent()).render())\n    }\n}\n","\nconst template = `<form class=\"px-2 login-submit\" >\n              <div class=\"form-group row\">\n                <label class=\"col-sm-4\" for=\"userName\">Kullanıcı Adı</label>\n                <div class=\" col-sm-8\">\n                  <input class=\"form-control\"  type=\"text\"  id=\"userName\" placeholder=\"Kullanıcı Adı\">\n                </div>\n              </div>\n              <div class=\"form-group row\">\n                <label class=\"col-sm-4\" for=\"userPass\">Şifre</label>\n                <div class=\" col-sm-8\">\n                  <input class=\"form-control \" type=\"password\"  id=\"userPass\" placeholder=\"Şifre\">\n                </div>\n              </div>\n              <div style=\"display: none;\" class=\"alert alert-danger login-control-alert\" role=\"alert\">\n                Kullanıcı adınız veya şifreniz yanlış!\n              </div>\n              <div class=\"d-flex justify-content-end\">\n                <button type=\"button\" class=\"btn btn-success login-button\">Submit</button>\n              </div>\n            </form>`;\n\n\nexport default class LoginFormComponent {\n    render () {\n        return template;\n    }\n\n    toString() {\n        return 'sdasdsad';\n    }\n}\n","import {loginBtn} from \"../../variables\";\nimport LoginFormComponent from \"./LoginFormComponent\";\nimport EventHandler from \"../Core/EventHandler\";\nimport store from \"../store\";\n\nconst template = `<div class=\"modal fade\" id=\"loginModal\" tabindex=\"-1\">\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">GİRİŞ YAP</h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body selected-answer-result\">\n                __CONTENT__\n          </div>\n        </div>\n      </div>\n    </div>`;\n\nexport default class ModalComponent {\n    constructor(form) {\n        this.content = null;\n        if (form === 'showLoginForm') {\n            EventHandler.componentDidMount(function () {\n                $('#loginModal').modal('show');\n                $('#loginModal').on('hidden.bs.modal', function (e) {\n                        store.dispatch({type: 'CLOSED_LOGIN_FORM'})\n                    })\n            })\n\n            this.content = (new LoginFormComponent()).render();\n        }\n    }\n\n    render() {\n        if (this.content === null) {\n            return;\n        }\n        return template.replace('__CONTENT__', this.content)\n    }\n}\n","import HeaderComponent from './HeaderComponent';\nimport ScoreListComponent from './ScoreListComponent';\nimport QuizContainerComponent from './QuizContainerComponent';\nimport ModalComponent from './ModalComponent';\nimport BaseComponent from \"./BaseComponent\";\nimport store from \"../store\";\n// console.log(store)\nimport EventHandler from \"../Core/EventHandler\";\n\nconst template = `__HEADER__\n                  __SCORE_LIST__\n                  __QUIZ_CONTAINER__\n                  __MODAL_CONTAINER__`\n\nexport default class AppComponent extends BaseComponent {\n    render() {\n        let state = store.getState();\n        let str = template.replace('__HEADER__', this.getContent(new HeaderComponent()));\n        str = str.replace('__SCORE_LIST__', this.getContent(new ScoreListComponent(state.students)))\n        str = str.replace('__QUIZ_CONTAINER__', this.getContent(new QuizContainerComponent()))\n        console.log(state.loginForm);\n        if(state.loginForm) {\n            str = str.replace('__MODAL_CONTAINER__', this.getContent(new ModalComponent('showLoginForm')));\n        }\n        return str;\n    }\n}\n","import store from \"../store\";\nimport EventHandler from \"./EventHandler\";\n\nexport default class Mahmut {\n    static initialize(mainComponent, rootElement) {\n        store.subscribe(function () {\n            rootElement.innerHTML = mainComponent.render();\n            EventHandler.triggerComponentDidMount();\n        }.bind(this))\n        rootElement.innerHTML = mainComponent.render();\n        EventHandler.init(rootElement);\n        EventHandler.triggerComponentDidMount();\n    }\n}\n","import firebase from 'firebase/app';\n// import 'firebase/database';\n// import {firstStart} from \"./functions\";\nimport AppComponent from \"./src/Components/AppComponent\";\nimport Mahmut from \"./src/Core/Mahmut\";\n\n// firebase.initializeApp(firebaseConfig);\n//\n// // Initialize Firebase\n// firebase.database().ref('/').once('value').then(function(snapshot) {\n//     firstStart(snapshot.val().users);\n// });\n\nMahmut.initialize(new AppComponent, document.getElementById('root'))\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}